{"version":3,"file":"index.es.js","sources":["../src/index.js"],"sourcesContent":["\r\nimport { useState } from \"react\";\r\n\r\nexport const usePath = (onMove) => {\r\n    const [currentPath, setCurrentPath] = useState([]);\r\n\r\n    function goBack(index) {\r\n        if(index && typeof index == \"number\") {\r\n            var tmp = [...currentPath];\r\n            while(tmp.length - 1 !== index) {\r\n                tmp.pop();\r\n            }\r\n            setCurrentPath(tmp);\r\n            if (typeof onMove == \"function\") {\r\n                onMove(tmp);\r\n            }\r\n        } else if (currentPath.length > 0) {\r\n            const tmp = [...currentPath];\r\n            tmp.pop();\r\n            setCurrentPath(tmp);\r\n            if (typeof onMove == \"function\") {\r\n                onMove(tmp);\r\n            }\r\n        }\r\n    }\r\n\r\n    function customSetCurrentPath(value) {\r\n        setCurrentPath(value);\r\n        if (typeof onMove == \"function\") {\r\n            onMove(value);\r\n        }\r\n    }\r\n\r\n    function goHome() {\r\n        setCurrentPath([]);\r\n        if (typeof onMove == \"function\") {\r\n            onMove([]);\r\n        }\r\n    }\r\n\r\n    function goTo(path) {\r\n        if(typeof path === \"string\" && path.length) {\r\n            let newCurrentPath;\r\n            \r\n            // Si le chemin commence par \"/\", c'est un chemin absolu\r\n            if (path.startsWith(\"/\")) {\r\n                newCurrentPath = [];\r\n                // On enlève le \"/\" initial pour le traitement\r\n                path = path.substring(1);\r\n            } else {\r\n                // Chemin relatif, on part du chemin actuel\r\n                newCurrentPath = [...currentPath];\r\n            }\r\n    \r\n            if (arguments.length > 1) {\r\n                for(var i = 0; i < arguments.length; i++) {\r\n                    const argument = arguments[i];\r\n                    newCurrentPath.push(argument);\r\n                }\r\n            } else if(typeof path == \"string\") {\r\n                // Seulement si il reste quelque chose après avoir enlevé le \"/\" initial\r\n                if (path.length > 0) {\r\n                    path.split(\"/\").forEach(\r\n                        (ressource) => {\r\n                            if (ressource === \"..\") {\r\n                                newCurrentPath.pop();\r\n                            } else if (ressource !== \".\" && ressource !== \"\") {\r\n                                newCurrentPath.push(ressource);\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n            \r\n            setCurrentPath(newCurrentPath);\r\n            if (typeof onMove == \"function\") {\r\n                onMove(newCurrentPath);\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        currentPath,\r\n        setCurrentPath: customSetCurrentPath,\r\n        goTo,\r\n        goBack,\r\n        goHome\r\n    };\r\n}"],"names":["usePath","onMove","currentPath","setCurrentPath","useState","goBack","index","tmp","customSetCurrentPath","value","goHome","goTo","path","newCurrentPath","i","argument","ressource"],"mappings":";AAGY,MAACA,IAAU,CAACC,MAAW;AAC/B,QAAM,CAACC,GAAaC,CAAc,IAAIC,EAAS,CAAA,CAAE;AAEjD,WAASC,EAAOC,GAAO;AACnB,QAAGA,KAAS,OAAOA,KAAS,UAAU;AAElC,eADIC,IAAM,CAAC,GAAGL,CAAW,GACnBK,EAAI,SAAS,MAAMD;AACrB,QAAAC,EAAI,IAAG;AAEX,MAAAJ,EAAeI,CAAG,GACd,OAAON,KAAU,cACjBA,EAAOM,CAAG;AAAA,IAElB,WAAWL,EAAY,SAAS,GAAG;AAC/B,YAAMK,IAAM,CAAC,GAAGL,CAAW;AAC3B,MAAAK,EAAI,IAAG,GACPJ,EAAeI,CAAG,GACd,OAAON,KAAU,cACjBA,EAAOM,CAAG;AAAA,IAElB;AAAA,EACJ;AAEA,WAASC,EAAqBC,GAAO;AACjC,IAAAN,EAAeM,CAAK,GAChB,OAAOR,KAAU,cACjBA,EAAOQ,CAAK;AAAA,EAEpB;AAEA,WAASC,IAAS;AACd,IAAAP,EAAe,CAAA,CAAE,GACb,OAAOF,KAAU,cACjBA,EAAO,CAAA,CAAE;AAAA,EAEjB;AAEA,WAASU,EAAKC,GAAM;AAChB,QAAG,OAAOA,KAAS,YAAYA,EAAK,QAAQ;AACxC,UAAIC;AAYJ,UATID,EAAK,WAAW,GAAG,KACnBC,IAAiB,CAAA,GAEjBD,IAAOA,EAAK,UAAU,CAAC,KAGvBC,IAAiB,CAAC,GAAGX,CAAW,GAGhC,UAAU,SAAS;AACnB,iBAAQY,IAAI,GAAGA,IAAI,UAAU,QAAQA,KAAK;AACtC,gBAAMC,IAAW,UAAUD,CAAC;AAC5B,UAAAD,EAAe,KAAKE,CAAQ;AAAA,QAChC;AAAA,UACG,CAAG,OAAOH,KAAQ,YAEjBA,EAAK,SAAS,KACdA,EAAK,MAAM,GAAG,EAAE;AAAA,QACZ,CAACI,MAAc;AACX,UAAIA,MAAc,OACdH,EAAe,IAAG,IACXG,MAAc,OAAOA,MAAc,MAC1CH,EAAe,KAAKG,CAAS;AAAA,QAErC;AAAA,MACxB;AAIY,MAAAb,EAAeU,CAAc,GACzB,OAAOZ,KAAU,cACjBA,EAAOY,CAAc;AAAA,IAE7B;AAAA,EACJ;AAEA,SAAO;AAAA,IACH,aAAAX;AAAA,IACA,gBAAgBM;AAAA,IAChB,MAAAG;AAAA,IACA,QAAAN;AAAA,IACA,QAAAK;AAAA,EACR;AACA;"}