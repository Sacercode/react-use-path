{"version":3,"file":"index.cjs.js","sources":["../src/index.js"],"sourcesContent":["\r\nimport { useState } from \"react\";\r\n\r\nexport const usePath = (onMove) => {\r\n    const [currentPath, setCurrentPath] = useState([]);\r\n\r\n    function goBack(index) {\r\n        if(index && typeof index == \"number\") {\r\n            var tmp = [...currentPath];\r\n            while(tmp.length - 1 !== index) {\r\n                tmp.pop();\r\n            }\r\n            setCurrentPath(tmp);\r\n            if (typeof onMove == \"function\") {\r\n                onMove(tmp);\r\n            }\r\n        } else if (currentPath.length > 0) {\r\n            const tmp = [...currentPath];\r\n            tmp.pop();\r\n            setCurrentPath(tmp);\r\n            if (typeof onMove == \"function\") {\r\n                onMove(tmp);\r\n            }\r\n        }\r\n    }\r\n\r\n    function customSetCurrentPath(value) {\r\n        setCurrentPath(value);\r\n        if (typeof onMove == \"function\") {\r\n            onMove(value);\r\n        }\r\n    }\r\n\r\n    function goHome() {\r\n        setCurrentPath([]);\r\n        if (typeof onMove == \"function\") {\r\n            onMove([]);\r\n        }\r\n    }\r\n\r\n    function goTo(path) {\r\n        if(typeof path === \"string\" && path.length) {\r\n            let newCurrentPath;\r\n            \r\n            // Si le chemin commence par \"/\", c'est un chemin absolu\r\n            if (path.startsWith(\"/\")) {\r\n                newCurrentPath = [];\r\n                // On enlève le \"/\" initial pour le traitement\r\n                path = path.substring(1);\r\n            } else {\r\n                // Chemin relatif, on part du chemin actuel\r\n                newCurrentPath = [...currentPath];\r\n            }\r\n    \r\n            if (arguments.length > 1) {\r\n                for(var i = 0; i < arguments.length; i++) {\r\n                    const argument = arguments[i];\r\n                    newCurrentPath.push(argument);\r\n                }\r\n            } else if(typeof path == \"string\") {\r\n                // Seulement si il reste quelque chose après avoir enlevé le \"/\" initial\r\n                if (path.length > 0) {\r\n                    path.split(\"/\").forEach(\r\n                        (ressource) => {\r\n                            if (ressource === \"..\") {\r\n                                newCurrentPath.pop();\r\n                            } else if (ressource !== \".\" && ressource !== \"\") {\r\n                                newCurrentPath.push(ressource);\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n            \r\n            setCurrentPath(newCurrentPath);\r\n            if (typeof onMove == \"function\") {\r\n                onMove(newCurrentPath);\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n        currentPath,\r\n        setCurrentPath: customSetCurrentPath,\r\n        goTo,\r\n        goBack,\r\n        goHome\r\n    };\r\n}"],"names":["usePath","onMove","currentPath","setCurrentPath","useState","goBack","index","tmp","customSetCurrentPath","value","goHome","goTo","path","newCurrentPath","i","argument","ressource"],"mappings":"yGAGaA,EAAWC,GAAW,CAC/B,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,CAAA,CAAE,EAEjD,SAASC,EAAOC,EAAO,CACnB,GAAGA,GAAS,OAAOA,GAAS,SAAU,CAElC,QADIC,EAAM,CAAC,GAAGL,CAAW,EACnBK,EAAI,OAAS,IAAMD,GACrBC,EAAI,IAAG,EAEXJ,EAAeI,CAAG,EACd,OAAON,GAAU,YACjBA,EAAOM,CAAG,CAElB,SAAWL,EAAY,OAAS,EAAG,CAC/B,MAAMK,EAAM,CAAC,GAAGL,CAAW,EAC3BK,EAAI,IAAG,EACPJ,EAAeI,CAAG,EACd,OAAON,GAAU,YACjBA,EAAOM,CAAG,CAElB,CACJ,CAEA,SAASC,EAAqBC,EAAO,CACjCN,EAAeM,CAAK,EAChB,OAAOR,GAAU,YACjBA,EAAOQ,CAAK,CAEpB,CAEA,SAASC,GAAS,CACdP,EAAe,CAAA,CAAE,EACb,OAAOF,GAAU,YACjBA,EAAO,CAAA,CAAE,CAEjB,CAEA,SAASU,EAAKC,EAAM,CAChB,GAAG,OAAOA,GAAS,UAAYA,EAAK,OAAQ,CACxC,IAAIC,EAYJ,GATID,EAAK,WAAW,GAAG,GACnBC,EAAiB,CAAA,EAEjBD,EAAOA,EAAK,UAAU,CAAC,GAGvBC,EAAiB,CAAC,GAAGX,CAAW,EAGhC,UAAU,OAAS,EACnB,QAAQY,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CACtC,MAAMC,EAAW,UAAUD,CAAC,EAC5BD,EAAe,KAAKE,CAAQ,CAChC,MACM,OAAOH,GAAQ,UAEjBA,EAAK,OAAS,GACdA,EAAK,MAAM,GAAG,EAAE,QACXI,GAAc,CACPA,IAAc,KACdH,EAAe,IAAG,EACXG,IAAc,KAAOA,IAAc,IAC1CH,EAAe,KAAKG,CAAS,CAErC,CACxB,EAIYb,EAAeU,CAAc,EACzB,OAAOZ,GAAU,YACjBA,EAAOY,CAAc,CAE7B,CACJ,CAEA,MAAO,CACH,YAAAX,EACA,eAAgBM,EAChB,KAAAG,EACA,OAAAN,EACA,OAAAK,CACR,CACA"}